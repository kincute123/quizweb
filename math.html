<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trang chủ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      }
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-bottom: 20px;
        border-bottom: 2px solid #f0f0f0;
        margin-bottom: 30px;
      }
      .user-info {
        display: flex;
        align-items: center;
        gap: 15px;
      }
      .avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
      }
      .user-details h2 {
        font-size: 24px;
        color: #333;
        margin-bottom: 5px;
      }
      .user-details p {
        color: #666;
        font-size: 14px;
        margin-bottom: 14px;
      }
      .logout-btn {
        padding: 10px 25px;
        background: #dc3545;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        transition: all 0.3s;
      }
      .logout-btn:hover {
        background: #c82333;
        transform: translateY(-2px);
      }
      .welcome-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        border-radius: 12px;
        text-align: center;
        margin-bottom: 30px;
      }
      .welcome-section h1 {
        font-size: 36px;
        margin-bottom: 10px;
      }
      .welcome-section p {
        font-size: 18px;
        opacity: 0.9;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }
      .stat-card {
        background: #f8f9fa;
        padding: 25px;
        border-radius: 12px;
        border-left: 4px solid #667eea;
      }
      .stat-card h3 {
        color: #666;
        font-size: 14px;
        margin-bottom: 10px;
        text-transform: uppercase;
      }
      .stat-card .value {
        font-size: 32px;
        font-weight: bold;
        color: #333;
      }
      .content-section {
        margin-top: 30px;
      }
      .content-section h2 {
        font-size: 24px;
        color: #333;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #f0f0f0;
      }
      .placeholder {
        background: #f8f9fa;
        border: 2px dashed #ddd;
        border-radius: 12px;
        padding: 60px;
        text-align: left;
        color: #999;
        font-size: 50px;
      }

      .img-py {
        border-radius: 20px;
      }
      .back-dash {
        padding: 10px 25px;
        background: #43d650;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        transition: all 0.3s;
      }
      .back-dash:hover {
        background: #32642a;
        transform: perspective(0.5px) translateY(-20%);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header với thông tin user -->
      <header>
        <div class="user-info">
          <div class="avatar" id="avatar"></div>
          <div class="user-details">
            <h2 id="username">Loading...</h2>
            <p>Đăng nhập lúc: <span id="loginTime"></span></p>
            <button class="back-dash" onclick="backdash()">Trang chủ</button>
            <span class="info-badge" id="similarity"></span>
          </div>
        </div>
        <button class="logout-btn" onclick="logout()">Đăng xuất</button>
      </header>

      <!-- Welcome Section -->
      <div class="welcome-section">
        <h1>Chào mừng đến với Toán học lớp 5</h1>
        <p>Học toán cùng AE Kiên Lọ</p>
      </div>

      <!-- Stats Grid -->
      <div class="stats-grid">
        <div class="stat-card">
          <h3>Thời gian online</h3>
          <div class="value" id="onlineTime">0 phút</div>
        </div>
        <div class="stat-card">
          <h3>Trạng thái</h3>
          <div class="value" style="color: #28a745; font-size: 24px">
            Đã xác thực
          </div>
        </div>
      </div>
      <div class="content-section">
        <h2>Nội dung của bài học</h2>
        <div class="placeholder">
          <p style="margin-top: 10px; font-size: 30px"></p>

          <h3> Câu 1: 12 x 5 = ? </h3>
          <label><input type="radio" name="q1" value="A" /> A. 50</label><br />
          <label><input type="radio" name="q1" value="B" /> B. 60</label
          ><br />
          <label><input type="radio" name="q1" value="C" /> C. 70</label
          ><br />
          <label><input type="radio" name="q1" value="D" /> D. 80</label>
          </h3>

          <br><br>

          <h3> Câu 2: 45 : 5 = ?</h3>
          <label><input type="radio" name="q2" value="A" /> A. 8</label><br />
          <label><input type="radio" name="q2" value="B" /> B. 9</label
          ><br />
          <label><input type="radio" name="q2" value="C" /> C. 10</label
          ><br />
          <label><input type="radio" name="q2" value="D" /> D. 11</label>


          <br>

          <h3> Câu 3: Số tự nhiên nhỏ nhất có 3 chữ số khi chia cho 2, 3, 4, 5 đều dư 1 là bao nhiêu?</h3>
          <label><input type="radio" name="q3" value="A" /> A. 101</label><br />
          <label><input type="radio" name="q3" value="B" /> B. 121</label
          ><br />
          <label><input type="radio" name="q3" value="C" /> C. 241</label
          ><br />
          <label><input type="radio" name="q3" value="D" /> D. 301</label>

          <br><br>

          <h3> Câu 4: Một hình chữ nhật có chiều dài 12cm, chiều rộng 5cm. Tính chu vi hình chữ nhật đó?</h3>
          <label><input type="radio" name="q4" value="A" /> A. 34cm</label><br />
          <label><input type="radio" name="q4" value="B" /> B. 36cm</label
          ><br />
          <label><input type="radio" name="q4" value="C" /> C. 38cm</label
          ><br />
          <label><input type="radio" name="q4" value="D" /> D. 40cm</label>

          <br><br>


          <h3> Câu 5: Cho dãy số:
                  1, 4, 9, 16, 25, …
                  số thứ 10 của dãy là bao nhiêu?
          </h3>
          <label><input type="radio" name="q5" value="A" /> A. 81</label><br />
          <label><input type="radio" name="q5" value="B" /> B. 90</label
          ><br />
          <label><input type="radio" name="q5" value="C" /> C. 100</label
          ><br />
          <label><input type="radio" name="q5" value="D" /> D. 110</label>
        </div>
      </div>
    </div>
    <script>
      // Kiểm tra đã đăng nhập chưa
      function checkAuth() {
        const username = localStorage.getItem("username");
        if (!username) {
          // Chưa đăng nhập -> quay về trang login
          window.location.href = "index.html";
          return false;
        }
        return true;
      }

      // Load thông tin user
      function loadUserInfo() {
        const username = localStorage.getItem("username");
        const loginTime = localStorage.getItem("loginTime");
        const similarity = localStorage.getItem("similarity");

        // Hiển thị tên
        document.getElementById("username").textContent = username;

        // Avatar chữ cái đầu
        document.getElementById("avatar").textContent = username
          .charAt(0)
          .toUpperCase();

        // Thời gian đăng nhập
        const time = new Date(loginTime);
        document.getElementById("loginTime").textContent =
          time.toLocaleString("vi-VN");

        // Cập nhật thời gian online mỗi phút
        updateOnlineTime();
        setInterval(updateOnlineTime, 60000);
      }

      // Cập nhật thời gian online
      function updateOnlineTime() {
        const loginTime = new Date(localStorage.getItem("loginTime"));
        const now = new Date();
        const minutes = Math.floor((now - loginTime) / 1000 / 60);

        if (minutes < 60) {
          document.getElementById("onlineTime").textContent = `${minutes} phút`;
        } else {
          const hours = Math.floor(minutes / 60);
          const mins = minutes % 60;
          document.getElementById(
            "onlineTime"
          ).textContent = `${hours}h ${mins}m`;
        }
      }
      //trở về trang chủ

      function backdash() {
        window.location.href = "index.html";
      }
      // Đăng xuất
      function logout() {
        if (confirm("Bạn có chắc muốn đăng xuất?")) {
          localStorage.removeItem("username");
          localStorage.removeItem("loginTime");
          localStorage.removeItem("similarity");
          window.location.href = "FE.html";
        }
      }
      // Khởi động
      if (checkAuth()) {
        loadUserInfo();
      }
    </script>
  </body>
</html>
